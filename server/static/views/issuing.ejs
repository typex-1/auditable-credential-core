<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>AuditableBlindCA - Issuing</title>
  <!-- <link rel="stylesheet" href="css/normalize.min.css"> -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Fonts -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
  <!-- // Fonts -->

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/katex.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/contrib/auto-render.min.js"></script>

  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/issuing.js"></script>

</head>

<body>
  <!-- Vertical Timeline -->
  <section id="conference-timeline">
    <div class="container">
      <ol class="timeline">
        <li>
          <p class="lined">Preparation </p>
          <a href="index" id="a_index"><span class="pointed"></span></a>
        </li>
        <li>
          <p class="lined">Issuing</p>
          <a href="issuing" id="a_issuing"><span class="pointed"></span></a>
        </li>
        <li>
          <p class="line">Verifying</p>
          <a href="verifying" id="a_verifying"><span class="point"></span></a>
        </li>
        <li>
          <p class="line">Tracing</p>
          <a href="tracing" id="a_tracing"><span class="point"></span></a>
        </li>
      </ol>
    </div>
    Issuing the credential
    <hr>
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-right-container">
        <div class="content-right">
          <p><span class="article-number">User</span>
            $\lambda$ <font color="red">(private)</font> = &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span class=""><input id="gamma" value=<%= gamma %>></input></span><br>
            $\xi$ (public) $=g^\lambda=$<span class=""><input id="xi" value=<%= xi %>></input></span><br>
            $Z=H_1(p,q,g,h,y)=$ <span class=""><input id="z" value="<%= z%>"></input></span><br>
            $Z_u=Z^{\lambda^-1}=$<span class=""><input id="zu" value=<%= zu%>></input><input id="y" type="hidden"></input></span><br>
          </p>
          <!--  <a href = "javascript: void(0)" class="" id = "">Send</a> <br> -->
        </div>
      </div>
    </div>
    <!-- // Article -->
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-left-container">
        <div class="content-left">
          <p> <span class="article-number">Issuer</span>
            Pre-set parameters: <br>
            <label for="description"> $\upsilon=$ </label>
            <span class=""><input id="upsilon" value=<%=v %>></input></span><br>
            <label for="description">$\mu=$</label>
            <span class=""><input id="mu" value=<%=u %>></input></span><br>
            <label for="description">$s_1=$ </label>
            <span class=""><input id="s1" value=<%=s1 %>></input></span><br>
            <label for="description"> $s_2=$ </label>
            <span class=""><input id="s2" value=<%=s2 %>></input></span><br>
            <label for="description"> $d=$ </label>
            <span class=""><input id="d" value=<%=d %>></input></span><br>
            <hr>
            <a href="javascript: void(0)" class="" id="issuerExecuteTwo">Execute</a> <br><br>
            <label class="textdescription"> $z_1=y_t^\upsilon=$ </label>
            <span class=""><input id="z1"></input></span> <br>
            <label class="textdescription">$z_2=z_u/z_1=$</label>
            <span class=""><input id="z2"></input></span> <br>
            <label class="textdescription">$a=g^\mu=$</label>
            <span class=""><input id="a"></input></span><br>
            <label class="textdescription">$b_1=g^s_1z_1^d=$</label>
            <span class=""><input id="b1"></input></span><br>
            <label class="textdescription">$b_2=h^s_2z_2^d=$</label>
            <span class=""><input id="b2"></input></span><br>
          </p>
          <!-- <a href = "javascript: void(0)" class="" id = "">Send</a> <br> -->
        </div>
      </div>
      <div class="meta-date">
        <span class="data">$z_u$<br>&nbsp; </span>
        <span class="date">&larr; </span>
      </div>
    </div>
    <!-- // Article -->
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-right-container">
        <div class="content-right">
          <p class="sp">
            Pre-set parameters: <br>
            $t1=$ <span class=""><input id="t1" value=<%=t1 %>></input></span><br>
            $t2=$ <span class=""><input id="t2" value=<%=t2 %>></input></span><br>
            $t3=$ <span class=""><input id="t3" value=<%=t3 %>></input></span><br>
            $t4=$ <span class=""><input id="t4" value=<%=t4 %>></input></span><br>
            $t5=$ <span class=""><input id="t5" value=<%=t5 %>></input></span><br>
            <hr>
            <a href="javascript: void(0)" class="" id="userExecuteThree">Execute</a><br><br>
            <label class="textdescription"><button id="button" style="display:none">Set</button> $m=$ </label><span class=""><input id="m"></input></span>
            <br>
            <label class="textdescription">$\zeta_1=z_1^\lambda$</sup> = </label><span class=""><input id="zeta1"></input></span><br>
            <label class="textdescription">$\zeta_2=z/\zeta_2$</label><span class=""><input id="zeta2"></input></span><br>
            <label class="textdescription">$\alpha=ag^t_1y^t_2=$</label><span class=""><input id="alpha"></input></span><br>
            <label class="textdescription">$\beta_1=b_1^\lambda g^{t_3}\zeta_1^{t_5}=$</label><span class=""><input id="beta1"></input></span><br>
            <label class="textdescription">$\beta_2=b_2^\lambda h^{t_4}\zeta_2^{t_5}=$</label><span class=""><input id="beta2"></input></span><br>
            <label class="textdescription">$\epsilon=H_2(\zeta_1|\alpha|\beta_1|\beta_2|m)=$</label><span class=""><input id="epsilon"></input></span><br>
            <label class="textdescription">$e=(\epsilon-t_2-t_5)=$</label><span class=""><input id="e"></input></span><br>
          </p>
        </div>
        <!-- <span class="timeline-author">John Doe</span> -->
      </div>
      <div class="meta-date">
        <span class="data"> $z_1,a$ <br> $b_1,b_2$</span>
        <span class="date">&rarr;</span>
      </div>
    </div>
    <!-- // Article -->
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-left-container">
        <div class="content-left">
          <p class="sp">
            <a href="javascript: void(0)" class="" id="issuerExecuteFour">Execute</a><br>
            <label class="textdescription">$c=(e-d)=$</label><span class=""><input id="c"></input></span><br>
            <label class="textdescription">$r=(\mu-cx)=$</label><span class=""><input id="r"></input></span><br>
          </p><br>
          <!-- <a href = "javascript: void(0)" class="" id = "">Send</a> -->
        </div>
      </div>
      <div class="meta-date">
        <span class="data">$e$ <br> &nbsp;</span>
        <span class="date">&larr;</span>
      </div>
    </div>
    <!-- // Article -->
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-right-container">
        <div class="content-right">
          <p class="sp">
            <a href="javascript: void(0)" class="" id="userExecuteFive">Execute</a><br>
            <label class="textdescription">$\rho=(r+t_1)\mathsf{mod}\ p=$</label> <span class=""><input id="rho"></input></span><br>
            <label class="textdescription">$\omega=(c+t_2)\mathsf{mod}\ p=$</label> <span class=""><input id="omega"></input></span><br>
            <label class="textdescription">$\sigma_1=(\lambda s_1+t_3)\mathsf{mod}\ p=$</label> <span class=""><input id="sigma1"></input></span><br>
            <label class="textdescription">$\sigma_2=(\lambda s_2+t_4)\mathsf{mod}\ p=$</label> <span class=""><input id="sigma2"></input></span><br>
            <label class="textdescription">$\delta=(d+t_5)\mathsf{mod}\ p$</label> <span class=""><input id="delta"></input></span><br>
          </p>
        </div>
        <!-- <span class="timeline-author">John Doe</span> -->
      </div>
      <div class="meta-date">
        <span class="data">$r,c$ <br> $s_1,s_2,d$</span>
        <span class="date">&rarr;</span>
      </div>
    </div>
    <!-- // Article -->
    <hr>
    <!-- Article -->
    <div class="timeline-article">
      <div class="content-left-container">
        <div class="content-left">
          <p class="sp">
            <a href="javascript: void(0)" class="" id="issuerExecuteSix">Execute</a><br>
            The issuer store $\xi^v$ as a source of the user. where $\xi$ is the public key of a user, $\upsilon$ is selected and known by the issuer.
            <ul>
              <li>User's name: <br> <input id="username" value="" style="border-bottom: 0px"></input></li>
              <li>User's public key : <br> <input id="upk" value="" style="border-bottom: 0px"></input> <input id="contractAddress" type="hidden" value=""></input></li>
              <li>User's identity $\xi^\upsilon$ : <br> <input id="identity" style="border-bottom: 0px"></input></li>
            </ul>
          </p>
        </div>
      </div>
      <div class="content-right-container">
        <div class="content-right">
          <p class="sp">
            Even the user gives this credential to an issuer, the issuer can not
            connect it to the source of the user without the help of the blockchain.
            <ul>
              <li>User's name: <br> <input id="username1" value="" style="border-bottom: 0px"></input></li>
              <li>Issuer's public key: <br> <input id="ipk1" value=<%= y%> style="border-bottom: 0px"></input></li>
              <li>User's Credential $\zeta_1$ : <input id="zeta_1" style="border-bottom: 0px"></input>
              </li>
            </ul>
          </p>
        </div>
      </div>
      <div class="meta-date" style="background:#9c27b0">
        <span class="data">&nbsp; <br> &nbsp;</span>
        <span class="date" style="font-size: 23px">blind</span>
      </div>
    </div>
    <!-- // Article -->
    </div>
    <!-- <div class="timeline-end">End</div> -->
  </section>
  <!-- // Vertical Timeline -->
  <div class="ca-popup" id="ca-popup-1">
    <div class="ca-popup-content">
      <span class="ca-exout">&times;</span>
      <div class="ca-part">
        <h1>Credential Examples</h1>
        <h2>Please fill out the information below and <b>submit</b> this form</h2>
      </div>
      <img src="img/frog1.png" class="ca-cover">
      <div class="ca-part">
        <!--  <img class="ca-subscribe" src="../static/img/button.png">
      <img class="ca-logo" src="../static/img/logo.png"> -->
        <br>
        <br> <br>
        <label class="textdescription"> Name: </label><span class=""><input id="name1" value="Mr Frog"></input></span><br>
        <label class="textdescription"> Age: </label><span class=""><input id="age1" value="28"></input></span><br>
        <label class="textdescription"> Birthday: </label><span class=""><input id="birthday1" value="1991-08-17"></input></span><br>
        <label class="textdescription"> Nationality: </label><span class=""><input id="nationality1" value="China"></input></span><br>
        <label class="textdescription"> Gender: </label><span class=""><input id="gender1" value="Man"></input></span><br>
        <label class="textdescription"> Address: </label><span class=""><input id="address1" value="Jiangsu Province"></input></span><br> <br> <br>
        <label for="description"><button id="submitmsg" class="myButton" title="">Submit</button></label>
        <!-- <p>*This is the fine text that no one reads and if you do it will make you cringe a little because it
        is so long and boring and benefits you in no way possible, therefor I will just keep ranting on about how
        terrible fine print is, oh wait, no I wont.</p> -->
      </div>
    </div>
  </div>
  <div class="ca-popup" id="ca-popup-2">
    <div class="ca-popup-content">
      <span class="ca-exout">&times;</span>
      <div class="ca-part">
        <h1>Mr Frog's Credential</h1>
      </div>
      <img src="img/frog1.png" class="ca-cover">
      <div class="ca-part">
        <br>
        <!--  <img class="ca-subscribe" src="../static/img/button.png">
      <img class="ca-logo" src="../static/img/logo.png"> -->
        <label class="textdescription"> Name: </label><span class=""><input id="name2"></input></span><br>
        <label class="textdescription"> Age: </label><span class=""><input id="age2"></input></span><br>
        <label class="textdescription"> Birthday: </label><span class=""><input id="birthday2"></input></span><br>
        <label class="textdescription"> Nationality: </label><span class=""><input id="nationality2"></input></span><br>
        <label class="textdescription"> Gender: </label><span class=""><input id="gender2"></input></span><br>
        <label class="textdescription"> Address: </label><span class=""><input id="address2"></input></span>
        <hr>
        <label class="textdescription"> Issuer's PK = </label><span class=""><input id="ipk"></input></span> <br>
        Signature = ( &#950;<sub>1</sub> || g<sup>&#961;</sup> y <sup>&#969;</sup> || g<sup>&#963;<sub>1</sub></sup> &#950;<sub>1</sub> <sup>&#948;</sup>
        || h<sup>&#963;<sub>2</sub></sup> &#950;<sub>2</sub> <sup>&#948;</sup> )
        <br><br><br>
        <!-- <label class="textdescription">&#961; = </label> <span class=""><input id = "rho"></input></span><br>
    <label class="textdescription">&#969; = </label> <span class=""><input id = "omega"></input></span><br>
    <label class="textdescription">&#963;<sub>1</sub> = </label> <span class=""><input id = "sigma1"></input></span><br>
    <label class="textdescription">&#963;<sub>2</sub> = </label> <span class=""><input id = "sigma2"></input></span><br>
    <label class="textdescription">&#948; = </label> <span class=""><input id = "delta"></input></span><br> -->
        <p>g, h are generators of subgroup of order q in Z<sub>p</sub><sup>*</sup>, which are publicly to each entity.
          &#961; &nbsp;,&#969;&nbsp;,&#963;<sub>1</sub>&nbsp;,&#963;<sub>2</sub>&nbsp;,&#948; is known to the user.
        </p>
      </div>
    </div>
  </div>

  <script>
  renderMathInElement(document.body, {
    delimiters: [{
      left: "$$",
      right: "$$",
      display: true
    }, {
      left: "$",
      right: "$",
      display: false
    }]
  });
  </script>
</body>
</html>
